document.getElementById('BgInput').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let BgShow = document.getElementById('BgShow');
        BgShow.src = e.target.result;
        BgShow.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

document.getElementById('Main1Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Main1 = document.getElementById('render-image1');
        Main1.src = e.target.result;
        Main1.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});
document.getElementById('Second1Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Second1 = document.getElementById('Second1');
        Second1.src = e.target.result;
        Second1.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});
document.getElementById('Third1Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Third1 = document.getElementById('Third1');
        Third1.src = e.target.result;
        Third1.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

document.getElementById('Main2Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Main2 = document.getElementById('Main2');
        Main2.src = e.target.result;
        Main2.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});
document.getElementById('Second2Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Second2 = document.getElementById('Second2');
        Second2.src = e.target.result;
        Second2.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});
document.getElementById('Third2Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Third2 = document.getElementById('Third2');
        Third2.src = e.target.result;
        Third2.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

document.getElementById('Main3Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Main3 = document.getElementById('Main3');
        Main3.src = e.target.result;
        Main3.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});
document.getElementById('Second3Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Second3 = document.getElementById('Second3');
        Second3.src = e.target.result;
        Second3.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});
document.getElementById('Third3Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Third3 = document.getElementById('Third3');
        Third3.src = e.target.result;
        Third3.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

document.getElementById('Main4Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Main4 = document.getElementById('Main4');
        Main4.src = e.target.result;
        Main4.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});
document.getElementById('Second4Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Second4 = document.getElementById('Second4');
        Second4.src = e.target.result;
        Second4.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});
document.getElementById('Third4Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Third4 = document.getElementById('Third4');
        Third4.src = e.target.result;
        Third4.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

document.getElementById('Main5Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Main5 = document.getElementById('Main5');
        Main5.src = e.target.result;
        Main5.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});
document.getElementById('Second5Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Second5 = document.getElementById('Second5');
        Second5.src = e.target.result;
        Second5.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});
document.getElementById('Third5Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Third5 = document.getElementById('Third5');
        Third5.src = e.target.result;
        Third5.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

document.getElementById('Main6Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Main6 = document.getElementById('Main6');
        Main6.src = e.target.result;
        Main6.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});
document.getElementById('Second6Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Second6 = document.getElementById('Second6');
        Second6.src = e.target.result;
        Second6.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});
document.getElementById('Third6Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Third6 = document.getElementById('Third6');
        Third6.src = e.target.result;
        Third6.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

document.getElementById('Main7Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Main7 = document.getElementById('Main7');
        Main7.src = e.target.result;
        Main7.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});
document.getElementById('Second7Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Second7 = document.getElementById('Second7');
        Second7.src = e.target.result;
        Second7.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});
document.getElementById('Third7Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Third7 = document.getElementById('Third7');
        Third7.src = e.target.result;
        Third7.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

document.getElementById('Main8Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Main8 = document.getElementById('Main8');
        Main8.src = e.target.result;
        Main8.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});
document.getElementById('Second8Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Second8 = document.getElementById('Second8');
        Second8.src = e.target.result;
        Second8.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});
document.getElementById('Third8Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Third8 = document.getElementById('Third8');
        Third8.src = e.target.result;
        Third8.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

let currentPositions = {
    Main1: { left: 40, top: 60, size: 120 },
    Main2: { left: 50, top: 75, size: 180 },
    Main3: { left: 50, top: 75, size: 180 },
    Main4: { left: 60, top: 95, size: 190 },
    Main5: { left: 41, top: 137, size: 330 },
    Main6: { left: 85, top: 80, size: 170 },
    Main7: { left: 38, top: 105, size: 200 },
    Main8: { left: 55, top: 100, size: 200 }
};

function addEventListeners(mainId) {
    let mainElement = document.getElementById(mainId);

    document.getElementById(`moveLeft${mainId}`).addEventListener('click', function() {
        currentPositions[mainId].left -= 1;
        mainElement.style.left = currentPositions[mainId].left + '%';
    });

    document.getElementById(`moveRight${mainId}`).addEventListener('click', function() {
        currentPositions[mainId].left += 1;
        mainElement.style.left = currentPositions[mainId].left + '%';
    });

    document.getElementById(`moveUp${mainId}`).addEventListener('click', function() {
        currentPositions[mainId].top -= 1;
        mainElement.style.top = currentPositions[mainId].top + '%';
    });

    document.getElementById(`moveDown${mainId}`).addEventListener('click', function() {
        currentPositions[mainId].top += 1;
        mainElement.style.top = currentPositions[mainId].top + '%';
    });

    document.getElementById(`toggleZIndex${mainId}`).addEventListener('click', function() {
        if (mainElement.style.zIndex == '2') {
            mainElement.style.zIndex = '1';
        } else {
            mainElement.style.zIndex = '2';
        }
    });

    document.getElementById(`increaseSize${mainId}`).addEventListener('click', function() {
        currentPositions[mainId].size += 1;
        mainElement.style.height = currentPositions[mainId].size + '%';
    });

    document.getElementById(`decreaseSize${mainId}`).addEventListener('click', function() {
        currentPositions[mainId].size -= 1;
        mainElement.style.height = currentPositions[mainId].size + '%';
    });
}

// Añadir los event listeners para cada Main
for (let i = 1; i <= 8; i++) {
    addEventListeners(`Main${i}`);
}

document.getElementById('Sponsor1Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Sponsor1 = document.getElementById('Sponsor1');
        Sponsor1.src = e.target.result;
        Sponsor1.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

document.getElementById('Sponsor2Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Sponsor2 = document.getElementById('Sponsor2');
        Sponsor2.src = e.target.result;
        Sponsor2.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

document.getElementById('Sponsor3Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Sponsor3 = document.getElementById('Sponsor3');
        Sponsor3.src = e.target.result;
        Sponsor3.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

document.getElementById('Sponsor4Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Sponsor4 = document.getElementById('Sponsor4');
        Sponsor4.src = e.target.result;
        Sponsor4.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

document.getElementById('Sponsor5Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Sponsor5 = document.getElementById('Sponsor5');
        Sponsor5.src = e.target.result;
        Sponsor5.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

document.getElementById('Sponsor6Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Sponsor6 = document.getElementById('Sponsor6');
        Sponsor6.src = e.target.result;
        Sponsor6.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

document.getElementById('Sponsor7Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Sponsor7 = document.getElementById('Sponsor7');
        Sponsor7.src = e.target.result;
        Sponsor7.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

document.getElementById('Sponsor8Input').addEventListener('change', function(e) {
    let file = e.target.files[0];
    let reader = new FileReader();

    reader.onload = function(e) {
        let Sponsor8 = document.getElementById('Sponsor8');
        Sponsor8.src = e.target.result;
        Sponsor8.style.display = 'block'; // Muestra la imagen
    }

    reader.readAsDataURL(file);
});

function Send() {
    var texto = document.getElementById("TopLeftTextInput").value;
    document.getElementById("TopLeftText").textContent = texto;

    var texto = document.getElementById("BottomLeftTextInput").value;
    document.getElementById("BottomLeftText").textContent = texto;

    var texto = document.getElementById("TopRightTextInput").value;
    document.getElementById("TopRightText").textContent = texto;

    var texto = document.getElementById("BottomRightTextInput").value;
    document.getElementById("BottomRightText").textContent = texto;

    var texto = document.getElementById("Tag1Input").value;
    document.getElementById("Tag1").textContent = texto;
    var texto = document.getElementById("Player1Input").value;
    document.getElementById("Player1").textContent = texto;

    var texto = document.getElementById("Tag2Input").value;
    document.getElementById("Tag2").textContent = texto;
    var texto = document.getElementById("Player2Input").value;
    document.getElementById("Player2").textContent = texto;

    var texto = document.getElementById("Tag3Input").value;
    document.getElementById("Tag3").textContent = texto;
    var texto = document.getElementById("Player3Input").value;
    document.getElementById("Player3").textContent = texto;

    var texto = document.getElementById("Tag4Input").value;
    document.getElementById("Tag4").textContent = texto;
    var texto = document.getElementById("Player4Input").value;
    document.getElementById("Player4").textContent = texto;

    var texto = document.getElementById("Tag5Input").value;
    document.getElementById("Tag5").textContent = texto;
    var texto = document.getElementById("Player5Input").value;
    document.getElementById("Player5").textContent = texto;

    var texto = document.getElementById("Tag6Input").value;
    document.getElementById("Tag6").textContent = texto;
    var texto = document.getElementById("Player6Input").value;
    document.getElementById("Player6").textContent = texto;

    var texto = document.getElementById("Tag7Input").value;
    document.getElementById("Tag7").textContent = texto;
    var texto = document.getElementById("Player7Input").value;
    document.getElementById("Player7").textContent = texto;

    var texto = document.getElementById("Tag8Input").value;
    document.getElementById("Tag8").textContent = texto;
    var texto = document.getElementById("Player8Input").value;
    document.getElementById("Player8").textContent = texto;
}


// -----------------------------------------------------------


document.addEventListener('DOMContentLoaded', function() {
    for (let i = 1; i <= 8; i++) {
        const personajeSelectMain = document.getElementById(`personaje${i}`);
        personajeSelectMain.addEventListener('change', function() {
            actualizarOpcionesColor('main', i);
        });

        const personajeSelectSecondary = document.getElementById(`secundario_personaje${i}`);
        personajeSelectSecondary.addEventListener('change', function() {
            actualizarOpcionesColor('secondary', i);
        });

        const personajeSelectTertiary = document.getElementById(`terciario_personaje${i}`);
        personajeSelectTertiary.addEventListener('change', function() {
            actualizarOpcionesColor('tertiary', i);
        });
    }
    // Inicializar la preselección del primer color al cargar la página
    for (let i = 1; i <= 8; i++) {
        if (document.getElementById(`personaje${i}`).value) {
            actualizarOpcionesColor('main', i, true); // El true indica la inicialización
        }
        if (document.getElementById(`secundario_personaje${i}`).value) {
            actualizarOpcionesColor('secondary', i, true); // El true indica la inicialización
        }
        if (document.getElementById(`terciario_personaje${i}`).value) {
            actualizarOpcionesColor('tertiary', i, true); // El true indica la inicialización
        }
    }
});

document.addEventListener('DOMContentLoaded', function () {
    for (let i = 1; i <= 8; i++) {
        const colorSelect = document.getElementById(`color${i}`);
        const selectedColorDisplay = document.getElementById(`selected-color${i}`);

        colorSelect.addEventListener('change', function () {
            const selectedColor = colorSelect.value;
            selectedColorDisplay.textContent = `selected_color${i} = ${selectedColor}`;
        });
    }
});

function actualizarOpcionesColor(type, index, isInitialLoad = false) {
    let personajeSelectId = `${type === 'main' ? 'personaje' : type === 'secondary' ? 'secundario_personaje' : 'terciario_personaje'}${index}`;
    let colorSelectId = `${type === 'main' ? 'color' : type === 'secondary' ? 'secundario_color' : 'terciario_color'}${index}`;
    const personajeSelect = document.getElementById(personajeSelectId);
    const colorSelect = document.getElementById(colorSelectId);
    const personajeSeleccionado = personajeSelect.value;
    const endpoint = type === 'main' ? `/get_colores/${personajeSeleccionado}` : type === 'secondary' ? `/get_colores_stock/${personajeSeleccionado}` : `/get_colores_stock/${personajeSeleccionado}`;

    colorSelect.disabled = true;
    colorSelect.innerHTML = '<option value="">-- Selecciona un color --</option>';

    if (personajeSeleccionado) {
        fetch(endpoint)
            .then(response => response.json())
            .then(colores => {
                if (colores && colores.length > 0) {
                    colorSelect.disabled = false;
                    colorSelect.innerHTML = '<option value="">-- Selecciona un color --</option>'; // Limpiar opciones previas
                    colores.forEach((color, idx) => {
                        const option = document.createElement('option');
                        option.value = color;
                        option.textContent = color;
                        colorSelect.appendChild(option);
                        if (idx === 0 && !colorSelect.value) { // Preseleccionar el primer color si no hay valor
                            colorSelect.value = color;
                            const personaje = document.getElementById(personajeSelectId).value;
                            if (type === 'main') {
                                actualizarRender(index, personaje, color);
                            } else if (type === 'secondary') {
                                actualizarStock(index, personaje, color);
                            } else {
                                actualizarTertiary(index, personaje, color);
                            }
                        }
                    });
                    // Si ya había un color seleccionado (por carga inicial), mantenerlo
                    if (isInitialLoad && document.getElementById(colorSelectId).dataset.selected) {
                        colorSelect.value = document.getElementById(colorSelectId).dataset.selected;
                    }
                }
            });
    } else {
        // Resetear el selector de color si no hay personaje seleccionado
        const personajeInfoId = `selected-${type === 'main' ? '' : type === 'secondary' ? 'stock-' : 'tertiary-'}personaje${index}`;
        const colorInfoId = `selected-${type === 'main' ? '' : type === 'secondary' ? 'stock-' : 'tertiary-'}color${index}`;
        const pathInfoId = `${type === 'main' ? 'render' : type === 'secondary' ? 'stock' : 'tertiary'}-path${index}`;
        document.getElementById(personajeInfoId).textContent = `${personajeInfoId} = `;
        document.getElementById(colorInfoId).textContent = `${colorInfoId} = `;
        document.getElementById(pathInfoId).textContent = `${pathInfoId} = `;
        document.getElementById(`${type === 'main' ? 'render' : type === 'secondary' ? 'stock' : 'tertiary'}-image${index}`).src = "";
    }
}

function mostrarImagenes() {
    for (let i = 1; i <= 8; i++) {
        const personajeMain = document.getElementById(`personaje${i}`).value;
        const colorMain = document.getElementById(`color${i}`).value;
        actualizarRender(i, personajeMain, colorMain);

        const personajeSecondary = document.getElementById(`secundario_personaje${i}`).value;
        const colorSecondary = document.getElementById(`secundario_color${i}`).value;
        actualizarStock(i, personajeSecondary, colorSecondary);

        const personajeTertiary = document.getElementById(`terciario_personaje${i}`).value;
        const colorTertiary = document.getElementById(`terciario_color${i}`).value;
        actualizarTertiary(i, personajeTertiary, colorTertiary);
    }
}

function actualizarRender(numero, personaje, color) {
    let renderImageId = `render-image${numero}`;
    let personajeInfoId = `selected-personaje${numero}`;
    let colorInfoId = `selected-color${numero}`;
    let renderPathInfoId = `render-path${numero}`;

    const renderImage = document.getElementById(renderImageId);
    const personajeInfo = document.getElementById(personajeInfoId);
    const colorInfo = document.getElementById(colorInfoId);
    const renderPathInfo = document.getElementById(renderPathInfoId);

    if (personaje && color) {
        fetch(`/get_render/${personaje}/${color}`)
            .then(response => response.json())
            .then(data => {
                if (data.render_path) {
                    // Corrige las barras invertidas en la ruta
                    const correctedPath = data.render_path.replace(/\\/g, '/');
                    renderImage.src = correctedPath;
                    renderImage.style.display = 'block'; // Muestra la imagen
                    renderPathInfo.textContent = `render_path${numero} = ${correctedPath}`;
                } else {
                    renderImage.src = "";
                    renderImage.style.display = 'none'; // Oculta la imagen si no hay render_path
                    renderPathInfo.textContent = `render_path${numero} = No disponible`;
                }
                personajeInfo.textContent = `selected_personaje${numero} = ${personaje}`;
                colorInfo.textContent = `selected_color${numero} = ${color}`;
            })
            .catch(error => {
                console.error(`Error al obtener el render para personaje ${personaje} y color ${color}:`, error);
                renderPathInfo.textContent = `render_path${numero} = Error al obtener el render`;
            });
    } else {
        renderImage.src = "";
        renderImage.style.display = 'none'; // Oculta la imagen si no hay personaje o color
        renderPathInfo.textContent = `render_path${numero} = Por favor, selecciona personaje y color.`;
        personajeInfo.textContent = `selected-personaje${numero} = `;
        colorInfo.textContent = `selected-color${numero} = `;
    }
}

function actualizarStock(numero, personaje, color) {
    let stockImageId = `stock-image${numero}`;
    let personajeInfoId = `selected-stock-personaje${numero}`;
    let colorInfoId = `selected-stock-color${numero}`;
    let stockPathInfoId = `stock-path${numero}`;

    const stockImage = document.getElementById(stockImageId);
    const personajeInfo = document.getElementById(personajeInfoId);
    const colorInfo = document.getElementById(colorInfoId);
    const stockPathInfo = document.getElementById(stockPathInfoId);

    if (personaje && color) {
        fetch(`/get_stock/${personaje}/${color}`)
            .then(response => response.json())
            .then(data => {
                if (data.stock_path) {
                    stockImage.src = data.stock_path;
                    stockImage.style.display = 'block'; // Mostrar la imagen
                    stockPathInfo.textContent = `stock_path${numero} = ${data.stock_path}`;
                } else {
                    stockImage.src = "";
                    stockImage.style.display = 'none'; // Ocultar la imagen si no hay stock_path
                    stockPathInfo.textContent = `stock_path${numero} = `;
                }
                personajeInfo.textContent = `selected-stock-personaje${numero} = ${personaje}`;
                colorInfo.textContent = `selected-stock-color${numero} = ${color}`;
            });
    } else {
        stockImage.src = "";
        stockImage.style.display = 'none'; // Ocultar la imagen si no hay personaje o color
        stockPathInfo.textContent = `stock_path${numero} = Por favor, selecciona personaje y color.`;
        personajeInfo.textContent = `selected-stock-personaje${numero} = `;
        colorInfo.textContent = `selected-stock-color${numero} = `;
    }
}

function actualizarTertiary(numero, personaje, color) {
    let tertiaryImageId = `tertiary-image${numero}`;
    let personajeInfoId = `selected-tertiary-personaje${numero}`;
    let colorInfoId = `selected-tertiary-color${numero}`;
    let tertiaryPathInfoId = `tertiary-path${numero}`;

    const tertiaryImage = document.getElementById(tertiaryImageId);
    const personajeInfo = document.getElementById(personajeInfoId);
    const colorInfo = document.getElementById(colorInfoId);
    const tertiaryPathInfo = document.getElementById(tertiaryPathInfoId);

    if (personaje && color) {
        fetch(`/get_stock/${personaje}/${color}`)
            .then(response => response.json())
            .then(data => {
                if (data.stock_path) {
                    tertiaryImage.src = data.stock_path;
                    tertiaryImage.style.display = 'block'; // Mostrar la imagen
                    tertiaryPathInfo.textContent = `tertiary_path${numero} = ${data.stock_path}`;
                } else {
                    tertiaryImage.src = "";
                    tertiaryImage.style.display = 'none'; // Ocultar la imagen si no hay stock_path
                    tertiaryPathInfo.textContent = `tertiary_path${numero} = `;
                }
                personajeInfo.textContent = `selected-tertiary-personaje${numero} = ${personaje}`;
                colorInfo.textContent = `selected-tertiary-color${numero} = ${color}`;
            });
    } else {
        tertiaryImage.src = "";
        tertiaryImage.style.display = 'none'; // Ocultar la imagen si no hay personaje o color
        tertiaryPathInfo.textContent = `tertiary_path${numero} = Por favor, selecciona personaje y color.`;
        personajeInfo.textContent = `selected-tertiary-personaje${numero} = `;
        colorInfo.textContent = `selected-tertiary-color${numero} = `;
    }
}

document.getElementById('updateImagesButton').addEventListener('click', function () {
    for (let i = 1; i <= 8; i++) {
        const personajeMain = document.getElementById(`personaje${i}`).value;
        const colorMain = document.getElementById(`color${i}`).value;
        actualizarRender(i, personajeMain, colorMain);

        const personajeSecondary = document.getElementById(`secundario_personaje${i}`).value;
        const colorSecondary = document.getElementById(`secundario_color${i}`).value;
        actualizarStock(i, personajeSecondary, colorSecondary);

        const personajeTertiary = document.getElementById(`terciario_personaje${i}`).value;
        const colorTertiary = document.getElementById(`terciario_color${i}`).value;
        actualizarTertiary(i, personajeTertiary, colorTertiary);
    }
});